import{$ as e,C as t,m as r,p as o}from"./vendor.d25fb0fb.js";var n,i,d,c,a,l,u,s,m,p,f,v,_,b;e.fn.extend({editorMD:function(o){var c,a,p,h,g,w;if('<div class="mdeditor">\n<div class="mdeditor_toolbar"></div>\n<div class="mdeditor_editor">\n<div>\n  <textarea class="mdeditor_textarea"></textarea>\n</div>\n</div>\n<div class="mdeditor_preview">\n</div>\n</div>',p=e("<div data-mdeditor></div>"),this.before(p),w=this.val(),p.empty(),p.prepend('<div class="mdeditor">\n<div class="mdeditor_toolbar"></div>\n<div class="mdeditor_editor">\n<div>\n  <textarea class="mdeditor_textarea"></textarea>\n</div>\n</div>\n<div class="mdeditor_preview">\n</div>\n</div>'),(c=e(".mdeditor_textarea")).html(w),this.remove(),a=t.fromTextArea(c[0],{mode:"markdown",theme:"neo",lineWrapping:!0,viewportMargin:1/0,cursorBlinkRate:0}),r.setOptions({gfm:!0,tables:!0,breaks:!0,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1}),b(a),d(),n(a),i(a),u(a),s(a),l(a),f(),m(a),h=_(".mdeditor_editor"),g=_(".mdeditor_preview"),!0===o.syncScroll)return v(h,g)}}),m=function(t){var n,i;return i=t.getValue(),n=o.sanitize(r.parse(i)),e(".mdeditor_preview").append(n)},f=function(){return e(".mdeditor_resize").on("click",(function(t){return t.preventDefault(),e(".mdeditor").hasClass("fullscreen")?e(".mdeditor").removeClass("fullscreen"):e(".mdeditor").addClass("fullscreen")}))},b=function(t){return t.on("change",(function(){var n,i;return i=t.getValue(),n=o.sanitize(r.parse(i)),e(".mdeditor_preview").html(n)}))},v=function(t,r){var o;return o=null,e(".mdeditor_editor").on("mouseenter",(function(){return o="editor"})),e(".mdeditor_preview").on("mouseenter",(function(){return o="preview"})),e(".mdeditor_editor").on("scroll",(function(){var n;if("editor"===o)return n=a(e(this).scrollTop(),t,r),e(".mdeditor_preview").scrollTop(n)})),e(".mdeditor_preview").on("scroll",(function(){var n;if("preview"===o)return n=a(e(this).scrollTop(),r,t),e(".mdeditor_editor").scrollTop(n)}))},_=function(t){var r,o,n,i,d,c,a;for(r=e(t),a=[],o=n=1;n<=6;o=++n)a.push(`${t} .cm-header-${o}`,`${t} h${o}`);return i=e(a.join(", ")),d=0,c=[],e.each(i,(function(t,o){var n,i;return n=e(o),i=p(n,r),c.push([d,i]),d=i})),c.push([d,r.prop("scrollHeight")]),c},p=function(e,t,r=0){return t===e?r:p(t.parent,e,r+t.offset().top)},c=function(e,t){return t.findIndex((function(t){return e>=t[0]&&e<=t[1]}))},a=function(e,t,r){var o,n,i,d;return n=(e-(i=t[o=c(e,t)])[0])/(i[1]-i[0]),(d=r[o])[0]+n*(d[1]-d[0])},n=function(t){return e(".mdeditor_bold").on("click",(function(e){return e.preventDefault(),t.doc.replaceSelection("**"+t.doc.getSelection("around")+"**"),t.focus()}))},i=function(t){return e(".mdeditor_code").on("click",(function(e){return e.preventDefault(),t.doc.replaceSelection("```\n"+t.doc.getSelection()+"\n```"),t.focus()}))},u=function(t){return e(".mdeditor_italic").on("click",(function(e){return e.preventDefault(),t.doc.replaceSelection("*"+t.doc.getSelection("around")+"*"),t.focus()}))},l=function(t){return e(".mdeditor_image").on("click",(function(e){var r;return e.preventDefault(),t.doc.replaceSelection("!["+t.doc.getSelection("end")+"]()"),r=t.doc.getCursor(),t.doc.setCursor({line:r.line,ch:r.ch-1}),t.focus()}))},s=function(t){return e(".mdeditor_link").on("click",(function(e){var r;return e.preventDefault(),t.doc.replaceSelection("["+t.doc.getSelection("end")+"]()"),r=t.doc.getCursor(),t.doc.setCursor({line:r.line,ch:r.ch-1}),t.focus()}))},d=function(){return e(".mdeditor_toolbar").append('<button class="mdeditor_bold">b</button>'),e(".mdeditor_toolbar").append('<button class="mdeditor_italic">i</button>'),e(".mdeditor_toolbar").append('<button class="mdeditor_code">c</button>'),e(".mdeditor_toolbar").append('<button class="mdeditor_link">l</button>'),e(".mdeditor_toolbar").append('<button class="mdeditor_image">p</button>'),e(".mdeditor_toolbar").append('<button class="mdeditor_resize">f</button>')},e(".el").editorMD({syncScroll:!0});
